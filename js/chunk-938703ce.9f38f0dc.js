(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-938703ce"],{"07ca":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"content-section",attrs:{id:"content"},domProps:{innerHTML:t._s(t.content)}})},r=[],i=(n("4160"),n("159b"),n("96cf"),n("1da1")),s=n("d4ec"),c=n("bee2"),o=n("99de"),u=n("7e84"),l=n("262e"),d=n("9ab4"),b=n("60a3"),h=n("6ddb"),v=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.intersectionObserver=null,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onContentChange",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.createIntersectionObserver(),t.next=3,this.$nextTick();case 3:if(e=document.getElementById("content"),null!==e){t.next=6;break}return t.abrupt("return");case 6:e.querySelectorAll("img.loading").forEach((function(t){null!==n.intersectionObserver&&n.intersectionObserver.observe(t)}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createIntersectionObserver",value:function(){this.destroyIntersectionObserver(),this.intersectionObserver=new IntersectionObserver((function(t,e){t.forEach((function(t){if(t.isIntersecting){var n=t.target,a=n.getAttribute("data-src");if(e.unobserve(n),null!==a){var r=new Image;r.onload=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(h["a"])(500),n.after(r),n.remove();case 3:case"end":return t.stop()}}),t)}))),r.src=a,r.classList.add("loaded");var s=n.getAttribute("width"),c=n.getAttribute("height");null!==s&&r.setAttribute("width",s),null!==c&&r.setAttribute("height",c)}}}))}))}},{key:"destroyIntersectionObserver",value:function(){null!==this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)}},{key:"mounted",value:function(){this.onContentChange()}},{key:"beforeDestroyed",value:function(){this.destroyIntersectionObserver()}}]),e}(b["c"]);Object(d["a"])([Object(b["b"])()],v.prototype,"content",void 0),Object(d["a"])([Object(b["d"])("content")],v.prototype,"onContentChange",null),v=Object(d["a"])([Object(b["a"])({})],v);var p=v,m=p,f=n("2877"),O=Object(f["a"])(m,a,r,!1,null,null,null);e["a"]=O.exports},"46a4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"meta-header"},[n("h1",{staticClass:"meta-header__title"},[t._v(t._s(t.meta.title))]),n("div",{staticClass:"meta-header__date"},[n("span",[t._v(t._s(t.timeInfo.prefix))]),n("span",[t._v(t._s(t.timeInfo.date.toLocaleString()))])]),n("div",{staticClass:"category-tags-wrapper"},[n("div",{staticClass:"category"},[n("span",{staticClass:"label"},[t._v("分類：")]),n("router-link",{staticClass:"category__link",attrs:{to:{name:"ArticleList",query:{categories:t.meta.category}}}},[t._v(t._s(t.meta.category))])],1),t.meta.tags.length>0?n("div",{staticClass:"tags"},[n("span",{staticClass:"label"},[t._v("標籤：")]),t._l(t.meta.tags,(function(e){return n("router-link",{key:"article-"+t.meta.id+"-tag-"+e,staticClass:"tags__tag",attrs:{to:{name:"ArticleList",query:{tags:e}}}},[t._v(" "+t._s(e)+" ")])}))],2):t._e()]),n("div",{staticClass:"meta-header__description"},[t._v(t._s(t.meta.description))]),n("hr",{staticClass:"divider"})])},r=[],i=n("d4ec"),s=n("bee2"),c=n("99de"),o=n("7e84"),u=n("262e"),l=n("9ab4"),d=n("60a3"),b=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"timeInfo",get:function(){return{prefix:this.meta.updatedTime?"上次更新":"發表時間",date:new Date(this.meta.updatedTime||this.meta.createdTime)}}}]),e}(d["c"]);Object(l["a"])([Object(d["b"])()],b.prototype,"meta",void 0),b=Object(l["a"])([Object(d["a"])({})],b);var h=b,v=h,p=n("2877"),m=Object(p["a"])(v,a,r,!1,null,null,null);e["a"]=m.exports},8192:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"view-container content-container",class:{loading:t.isLoading},attrs:{id:"article"}},[t.isLoading?n("CircularProgress",{attrs:{color:"#ccc"}}):n("article",{staticClass:"article-body"},[n("MetaHeader",{attrs:{meta:t.meta}}),n("ContentSection",{attrs:{content:t.content}})],1),t.isDevelopment?n("DButton",{staticClass:"edit-article-btn",attrs:{to:{name:"EditArticle",params:{articleId:t.$route.params.articleId}}}},[n("DIcon",{attrs:{name:"pencil"}}),n("span",[t._v("編輯文章")])],1):t._e()],1)},r=[],i=(n("a4d3"),n("e01a"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),s=n("d4ec"),c=n("bee2"),o=n("99de"),u=n("7e84"),l=n("262e"),d=n("9ab4"),b=n("60a3"),h=n("e8f5"),v=n("46a4"),p=n("07ca"),m=n("acd0"),f=n("ec53"),O=n("f7e4"),g=n("7872"),j=n("6ddb"),_=(n("cb0c"),n("ac1a")),y=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.content="",t.meta=null,t.isLoading=!0,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"loadInitData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$route.params.articleId,t.next=4,Object(O["c"])(e);case 4:return this.meta=t.sent,t.next=7,Object(O["a"])(e);case 7:this.content=t.sent,t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](0),t.next=14,this.$router.replace({name:"NotFound"}).catch((function(){return null}));case 14:return t.next=16,Object(j["a"])(300);case 16:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateHead",value:function(){if(g["a"].reset(),null!==this.meta){var t=this.meta,e=t.title,n=t.description;e&&(g["a"].title(e),g["a"].ogTitle(e)),n&&(g["a"].description(n),g["a"].ogDescription(n))}}},{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.loadInitData();case 3:this.updateHead(),this.$emit("render"),this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"isDevelopment",get:function(){return _["c"].isDevelopment}}]),e}(b["c"]);y=Object(d["a"])([Object(b["a"])({components:{CircularProgress:h["a"],MetaHeader:v["a"],ContentSection:p["a"],DIcon:f["a"],DButton:m["a"]}})],y);var C=y,w=C,k=n("2877"),I=Object(k["a"])(w,a,r,!1,null,null,null);e["default"]=I.exports},cb0c:function(t,e,n){}}]);
//# sourceMappingURL=chunk-938703ce.9f38f0dc.js.map